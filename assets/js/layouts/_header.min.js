(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{3569:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnconnectedProjectRemix=void 0;var n=l(r(2)),o=l(r(1)),a=r(31),c=l(r(23)),i=r(1003);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(a){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t=u(this,a.call.apply(a,[this].concat(n)))).remixProject=function(){if(dashboard.project.getCurrentId()&&dashboard.project.canServerSideRemix())dashboard.project.serverSideRemix();else if(t.props.isSignedIn){var e="Remix: "+(dashboard.project.getCurrentName()||appOptions.level.projectTemplateLevelName||"My Project");dashboard.project.copy(e,{shouldNavigate:!0}).then(function(){return t.props.refreshProjectName()}).catch(function(e){return console.log(e)})}else window.location.assign("/users/sign_in?user_return_to="+window.location.pathname)},u(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a),i.prototype.render=function(){var e="project_remix header_button";return this.props.lightStyle&&(e+=" header_button_light"),o.default.createElement("div",{className:e,onClick:this.remixProject},c.default.remix())},i}(o.default.Component);s.propTypes={isSignedIn:n.default.bool,lightStyle:n.default.bool,refreshProjectName:n.default.func.isRequired};t.UnconnectedProjectRemix=s;t.default=(0,a.connect)(function(e){return{isSignedIn:e.pageConstants&&e.pageConstants.isSignedIn}},{refreshProjectName:i.refreshProjectName})(s)},37:function(e,t){e.exports=$},3720:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(1)),o=a(r(23)),c=r(1972);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=function(a){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t=l(this,a.call.apply(a,[this].concat(n)))).shareProject=function(){(0,c.shareProject)(dashboard.project.getShareUrl())},l(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a),i.prototype.render=function(){return n.default.createElement("div",{className:"project_share header_button header_button_light",onClick:this.shareProject},o.default.share())},i}(n.default.Component);t.default=i,e.exports=t.default},4184:function(e,t,r){r(229),r(230),e.exports=r(4185)},4185:function(e,t,r){"use strict";var n=l(r(1)),o=l(r(36)),a=r(31),i=l(r(4186)),c=r(158);function l(e){return e&&e.__esModule?e:{default:e}}var u=document.getElementsByClassName("project_info");u.length&&o.default.render(n.default.createElement(a.Provider,{store:(0,c.getStore)()},n.default.createElement(i.default,null)),u[0])},4186:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.UnconnectedProjectInfo=void 0;var o=d(r(2)),a=d(r(1)),i=r(31),c=d(r(4187)),l=d(r(4190)),u=d(r(4191)),s=d(r(4192)),f=r(1003);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=(p(n={},f.possibleHeaders.project,c.default),p(n,f.possibleHeaders.minimalProject,l.default),p(n,f.possibleHeaders.projectBacked,u.default),p(n,f.possibleHeaders.levelBuilderSave,s.default),n),m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){if(!this.props.currentHeader)return null;var e=h[this.props.currentHeader];return a.default.createElement(e,null)},t}(a.default.Component);m.propTypes={currentHeader:o.default.oneOf(Object.values(f.possibleHeaders))};t.UnconnectedProjectInfo=m;t.default=(0,i.connect)(function(e){return{currentHeader:e.header.currentHeader}})(m)},4187:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnconnectedProjectHeader=void 0;var n=d(r(2)),o=d(r(1)),a=r(31),c=d(r(23)),l=d(r(4188)),u=d(r(3569)),s=d(r(3720)),f=d(r(3568)),i=r(1003);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(a){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t=p(this,a.call.apply(a,[this].concat(n)))).state={editName:!1,savingName:!1},t.beginEdit=function(){t.setState({editName:!0,savingName:!1})},t.saveNameChange=function(){var e=t.nameChangeInput.value.trim().substr(0,100);0!==e.length&&(dashboard.project.rename(e,function(){dashboard.header.updateTimestamp(),t.props.refreshProjectName(),t.setState({editName:!1,savingName:!1})}),t.setState({savingName:!0}))},p(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a),i.prototype.renderProjectName=function(){var t=this;return this.state.editName?o.default.createElement("input",{type:"text",className:"project_name header_input",maxLength:"100",defaultValue:this.props.projectName,ref:function(e){t.nameChangeInput=e}}):o.default.createElement("div",{className:"project_name header_text"},this.props.projectName)},i.prototype.renderSaveOrEdit=function(){return this.state.editName?o.default.createElement("div",{className:"project_save header_button header_button_light",onClick:this.saveNameChange,disabled:this.state.savingName},c.default.save()):o.default.createElement("div",{className:"project_edit header_button header_button_light",onClick:this.beginEdit},c.default.rename())},i.prototype.render=function(){return o.default.createElement("div",null,o.default.createElement("div",{className:"project_name_wrapper header_text"},this.renderProjectName(),!this.state.editName&&o.default.createElement(f.default,null)),this.renderSaveOrEdit(),o.default.createElement(s.default,null),o.default.createElement(u.default,{lightStyle:!0}),appOptions.level.isConnectionLevel&&o.default.createElement(l.default,null),"weblab"===appOptions.app&&o.default.createElement("div",{className:"beta-notice"},c.default.beta()))},i}(o.default.Component);h.propTypes={projectName:n.default.string.isRequired,refreshProjectName:n.default.func.isRequired};t.UnconnectedProjectHeader=h;t.default=(0,a.connect)(function(e){return{projectName:e.header.projectName}},{refreshProjectName:i.refreshProjectName})(h)},4188:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(r(37)),n=o(r(1)),f=o(r(23)),d=r(4189);function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(a){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t=c(this,a.call.apply(a,[this].concat(n)))).importProject=function(){Craft&&Craft.showImportFromShareLinkPopup(function(e){if(e){var t=void 0;try{var r=document.createElement("a");r.href=e,t=r.pathname}catch(e){return void Craft.showErrorMessagePopup(f.default.projectShareLinkImportBadLinkHeader(),f.default.projectShareLinkImportBadLinkBody())}var n=/^\/?c\/([^\/]*)/,o=/^\/?r\/([^\/]*)/,a=/^\/?projects\/minecraft_hero\/([^\/]*)/,i=void 0,c=void 0;if(t.match(n))i="/c/"+t.match(n)[1]+".json";else if(t.match(o)){i="/r/"+t.match(o)[1]+".json"}else t.match(a)&&(c=t.match(a)[1]);var l=function(e){var t=(0,d.convertBlocksXml)(e);dashboard.project.createNewChannelFromSource(t,function(e){var t=dashboard.project.appToProjectUrl()+"/"+e.id+"/edit";location.href=t})},u=function(){Craft.showErrorMessagePopup(f.default.projectShareLinkImportErrorHeader(),f.default.projectShareLinkImportErrorBody())};i?s.default.ajax({url:i,type:"get",dataType:"json"}).done(function(e){l(e.data)}).error(function(){u()}):c?dashboard.project.getSourceForChannel(c,function(e){e?l(e):u()}):Craft.showErrorMessagePopup(f.default.projectShareLinkImportBadLinkHeader(),f.default.projectShareLinkImportBadLinkBody())}})},c(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a),i.prototype.render=function(){return n.default.createElement("div",{className:"project_import header_button header_button_light",onClick:this.importProject},f.default.import())},i}(n.default.Component);t.default=a,e.exports=t.default},4189:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlocksXml=function(e){for(var t,r=(0,a.parseElement)(e),n=0;t=r.childNodes[n];n++)"block"===t.nodeName.toLowerCase()&&d(t);return(0,a.serialize)(r)};var a=r(1044);function i(e,t){for(var r,n=0;r=e.childNodes[n];n++)if(r.nodeName.toLowerCase()===t)return r}function c(e,t){for(var r,n=0;r=e.childNodes[n];n++)if("title"===r.nodeName.toLowerCase()&&r.getAttribute("name")===t)return r}var l=["bricks","cobblestone","dirt","grass","gravel","ice","logAcacia","logBirch","logJungle","logOak","logSpruce","planksAcacia","planksBirch","planksJungle","planksOak","planksSpruce","rails","sand","sandstone","snow","stone","wool_blue","wool_magenta","wool_orange","wool_pink","wool_red","wool_yellow"],u=Object.freeze({0:"forward",1:"right",2:"back",3:"left"}),s=Object.freeze({bricks:"brick_block",clayHardened:"hardened_clay",oreCoal:"coal_ore",oreDiamond:"diamond_ore",oreEmerald:"emerald_ore",oreGold:"gold_ore",oreIron:"iron_ore",oreLapis:"lapis_ore",oreRedstone:"redstone_ore",deadBush:"deadbush",netherBrick:"netherbrick",quartzOre:"ore_quartz",topSnow:"snow_layer",dirtCoarse:"dirt",farmlandWet:"dirt",lava:"dirt",water:"dirt",grassPath:"dirt",snowyGrass:"dirt",tnt:"dirt",tree:"dirt",wool:"dirt",logAcacia:"log2,0",logBirch:"log,2",logJungle:"log,3",logOak:"log",logSpruce:"log,1",planksAcacia:"planks,4",planksBirch:"planks,2",planksJungle:"planks,3",planksOak:"planks",planksSpruce:"planks,1"}),f=Object.freeze({craft_moveForward:function(e){var t=i(e,"next");return'\n      <block type="craft_move">\n        <title name="DIR">forward</title>\n        '+(t?(0,a.serialize)(t):"")+"\n      </block>\n    "},craft_moveBackward:function(e){var t=i(e,"next");return'\n      <block type="craft_move">\n        <title name="DIR">back</title>\n        '+(t?(0,a.serialize)(t):"")+"\n      </block>\n    "},craft_placeBlock:function(e){var t=i(e,"next"),r=i(e,"title").textContent;return'\n      <block type="craft_place" inline="false">\n        <title name="DIR">down</title>\n        <value name="SLOTNUM">\n          <block type="math_number">\n            <title name="NUM">'+(l.indexOf(r)+1||1)+"</title>\n          </block>\n        </value>\n        "+(t?(0,a.serialize)(t):"")+"\n      </block>\n    "},craft_placeBlockDirection:function(e){var t=i(e,"next"),r=c(e,"TYPE").textContent,n=c(e,"DIR").textContent,o=l.indexOf(r)+1||1;return'\n      <block type="craft_place" inline="false">\n        <title name="DIR">'+u[n]+'</title>\n        <value name="SLOTNUM">\n          <block type="math_number">\n            <title name="NUM">'+o+"</title>\n          </block>\n        </value>\n        "+(t?(0,a.serialize)(t):"")+"\n      </block>\n    "},craft_destroyBlock:function(e){var t=i(e,"next");return'\n      <block type="craft_destroy">\n        <title name="DIR">forward</title>\n        '+(t?(0,a.serialize)(t):"")+"\n      </block>\n    "},craft_ifBlockAhead:function(e){var t=i(e,"statement"),r=i(e,"next"),n=i(e,"title");t&&t.setAttribute("name","DO0");var o=n.textContent;return s[o]&&(o=s[o]),'\n      <block type="controls_if" inline="false">\n        <value name="IF0">\n          <block type="logic_compare" inline="true">\n            <title name="OP">EQ</title>\n            <value name="A">\n              <block type="craft_inspect">\n                <title name="DIR">forward</title>\n              </block>\n            </value>\n            <value name="B">\n              <block type="craft_getnameof" inline="false">\n                <value name="ITEM">\n                  <block type="craft_block">\n                    <title name="BLOCK">'+o+"</title>\n                  </block>\n                </value>\n              </block>\n            </value>\n          </block>\n        </value>\n        "+(t?(0,a.serialize)(t):"")+"\n        "+(r?(0,a.serialize)(r):"")+"\n      </block>\n    "}});function d(e){for(var t,r=e.getAttribute("type"),n=0;t=e.childNodes[n];n++)"next"!==t.nodeName.toLowerCase()&&"statement"!==t.nodeName.toLowerCase()||!t.childNodes.length||d(t.childNodes[0]);if(f[r]){var o=f[r](e),a=(new DOMParser).parseFromString(o,"text/xml").firstChild;e.parentNode.replaceChild(a,e)}}},4190:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(2)),o=l(r(1)),a=r(31),i=l(r(23)),c=l(r(3569));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o.default.createElement("div",null,o.default.createElement("div",{className:"project_name_wrapper header_text"},o.default.createElement("div",{className:"project_name header_text"},this.props.projectName),o.default.createElement("div",{className:"project_updated_at header_text"},i.default.clickToRemix())),o.default.createElement(c.default,null))},t}(o.default.Component);u.propTypes={projectName:n.default.string.isRequired},t.default=(0,a.connect)(function(e){return{projectName:e.header.projectName}})(u),e.exports=t.default},4191:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(1)),o=i(r(3720)),a=i(r(3569));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return n.default.createElement("div",null,n.default.createElement(o.default,null),n.default.createElement(a.default,{lightStyle:!0}))},t}(n.default.Component);t.default=c,e.exports=t.default},4192:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(2)),o=l(r(1)),a=r(31),c=l(r(3568)),i=r(1003);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(a){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t=u(this,a.call.apply(a,[this].concat(n)))).saveStartCode=function(){t.props.setProjectUpdatedSaving(),$.ajax({type:"POST",url:"../update_properties",data:JSON.stringify(t.props.getChanges()),dataType:"json",error:t.props.setProjectUpdatedError,success:t.props.setProjectUpdatedSaved})},u(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a),i.prototype.render=function(){return o.default.createElement("div",null,o.default.createElement("div",{className:"project_name_wrapper header_text"},o.default.createElement("div",{className:"project_name header_text"},"Levelbuilder: edit start code"),o.default.createElement(c.default,null)),o.default.createElement("div",{className:"project_remix header_button",onClick:this.saveStartCode},"Save"))},i}(o.default.Component);s.propTypes={getChanges:n.default.func.isRequired,setProjectUpdatedError:n.default.func.isRequired,setProjectUpdatedSaving:n.default.func.isRequired,setProjectUpdatedSaved:n.default.func.isRequired},t.default=(0,a.connect)(function(e){return{getChanges:e.header.getLevelBuilderChanges}},{setProjectUpdatedError:i.setProjectUpdatedError,setProjectUpdatedSaving:i.setProjectUpdatedSaving,setProjectUpdatedSaved:i.setProjectUpdatedSaved})(s),e.exports=t.default}},[[4184,0,1]]]);
